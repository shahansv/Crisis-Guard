{% extends 'admin/index.html' %}
{% block title %}Edit Camp Coordinator{% endblock %} 
{% block body %}
<div class="container mt-5">
  <div class="card shadow-sm">
    <div class="card-header bg-primary text-white">
      <h4 class="mb-0 text-center">Edit Camp Coordinator</h4>
    </div>
    <div class="card-body">
      <form
        action="/admin_edit_camp_coordinator_post"
        method="post"
        enctype="multipart/form-data"
        name="form1"
        id="form1"
        class="needs-validation"
        novalidate
      >
        {% csrf_token %}

        <!-- Camp Selection -->
        <div class="mb-3">
          <label for="camp" class="form-label">Camp</label>
          <select name="camp" id="camp" class="form-select" required>
            {% for i in camp %}
              <option value="{{ i.id }}" {% if i.id == ob.CAMP.id %} selected {% endif %}>{{ i.campName }}</option>
            {% endfor %}
          </select>
          <div class="invalid-feedback">Please select a camp.</div>
        </div>

        <!-- Name -->
        <div class="mb-3">
          <label for="name" class="form-label">Name</label>
          <input
            type="text"
            class="form-control"
            id="name"
            name="name"
            value="{{ ob.name }}"
            required
            pattern="[A-Z a-z.]{3,25}"
          />
          <div class="invalid-feedback">Please enter a valid name (3-25 characters).</div>
        </div>

        <!-- Gender -->
        <div class="mb-3">
          <label class="form-label">Gender</label><br>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="gender" id="male" value="Male" {% if ob.gender == "Male" %}checked{% endif %} required>
            <label class="form-check-label" for="male">MALE</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="gender" id="female" value="Female" {% if ob.gender == "Female" %}checked{% endif %} required>
            <label class="form-check-label" for="female">FEMALE</label>
          </div>
          <div class="invalid-feedback d-block">Please select a gender.</div>
        </div>
        

        <!-- Date of Birth -->
        <div class="mb-3">
          <label for="dob" class="form-label">Date of Birth</label>
          <input
            type="date"
            class="form-control"
            id="dob"
            name="dob"
            value="{{ ob.dob }}"
            required
            min="1965-01-01"
            max="2007-12-31"
          />
          <div class="invalid-feedback">Please enter a valid date of birth.</div>
        </div>

        <!-- Contact Number -->
        <div class="mb-3">
          <label for="contactNo" class="form-label">Contact No</label>
          <input
            type="text"
            class="form-control"
            id="contactNo"
            name="contactNo"
            value="{{ ob.contactNo }}"
            required
            pattern="[6789][0-9]{9}"
          />
          <div class="invalid-feedback">Please enter a valid 10-digit contact number.</div>
        </div>

        <!-- Email -->
        <div class="mb-3">
          <label for="email" class="form-label">Email</label>
          <input
            type="email"
            class="form-control"
            id="email"
            name="email"
            value="{{ ob.email }}"
            required
          />
          <div class="invalid-feedback">Please enter a valid email address.</div>
        </div>

        <!-- District -->
        <div class="mb-3">
          <label for="district" class="form-label">District</label>
          <input
            type="text"
            class="form-control"
            id="district"
            name="district"
            value="{{ ob.district }}"
            required
            pattern="[A-Z a-z.]{3,25}"
          />
          <div class="invalid-feedback">Please enter a valid district name (3-25 characters).</div>
        </div>

        <!-- Place -->
        <div class="mb-3">
          <label for="place" class="form-label">Place</label>
          <input
            type="text"
            class="form-control"
            id="place"
            name="place"
            value="{{ ob.place }}"
            required
            pattern="[A-Z a-z.]{3,25}"
          />
          <div class="invalid-feedback">Please enter a valid place name (3-25 characters).</div>
        </div>

        <!-- Post -->
        <div class="mb-3">
          <label for="post" class="form-label">Post</label>
          <input
            type="text"
            class="form-control"
            id="post"
            name="post"
            value="{{ ob.post }}"
            required
            pattern="[A-Z a-z.]{3,25}"
          />
          <div class="invalid-feedback">Please enter a valid post name (3-25 characters).</div>
        </div>

        <!-- PIN -->
        <div class="mb-3">
          <label for="pin" class="form-label">pin</label>
          <input
            type="text"
            class="form-control"
            id="pin"
            name="pin"
            value="{{ ob.pin }}"
            required
            pattern="[0-9]{6}"
          />
          <div class="invalid-feedback">Please enter a valid 6-digit PIN code.</div>
        </div>

        <!-- Submit Button -->
        <div class="text-center">
          <button type="submit" class="btn btn-primary ">EDIT</button>
        </div>
      </form>
    </div>
  </div>
</div>

<script>
  // Bootstrap validation script
  (function () {
    'use strict'
    var forms = document.querySelectorAll('.needs-validation')
    Array.prototype.slice.call(forms).forEach(function (form) {
      form.addEventListener('submit', function (event) {
        if (!form.checkValidity()) {
          event.preventDefault()
          event.stopPropagation()
        }
        form.classList.add('was-validated')
      }, false)
    })
  })()
</script>

{% endblock %}
